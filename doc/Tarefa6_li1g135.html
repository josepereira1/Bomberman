<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa6_li1g135</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Tarefa6_li1g135.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>Jos&#233; Pereira &lt;a82880@uminho.pt&gt;;
              Andr&#233; Almeida &lt;&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa6_li1g135</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Este m&#243;dulo cont&#233;m as <strong>fun&#231;&#245;es</strong>, da <strong>Tarefa 6</strong>, para a cria&#231;&#227;o de um <strong>Bot</strong>.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Flag">Flag</a> = Int</li><li class="src short"><span class="keyword">type</span> <a href="#t:Gamer">Gamer</a> = Int</li><li class="src short"><span class="keyword">type</span> <a href="#t:CoordX">CoordX</a> = Int</li><li class="src short"><span class="keyword">type</span> <a href="#t:CoordY">CoordY</a> = Int</li><li class="src short"><span class="keyword">type</span> <a href="#t:Distance">Distance</a> = Float</li><li class="src short"><span class="keyword">data</span> <a href="#t:Dir">Dir</a><ul class="subs"><li>= <a href="#v:Upp">Upp</a></li><li>| <a href="#v:Downn">Downn</a></li><li>| <a href="#v:Leftt">Leftt</a></li><li>| <a href="#v:Rightt">Rightt</a></li><li>| <a href="#v:Null">Null</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:WhereIsBomb">WhereIsBomb</a><ul class="subs"><li>= <a href="#v:LinhaE">LinhaE</a></li><li>| <a href="#v:LinhaD">LinhaD</a></li><li>| <a href="#v:ColunaC">ColunaC</a></li><li>| <a href="#v:ColunaB">ColunaB</a></li><li>| <a href="#v:Bombspot">Bombspot</a></li><li>| <a href="#v:Nada">Nada</a></li></ul></li><li class="src short"><a href="#v:bot">bot</a> :: [String] -&gt; Int -&gt; Int -&gt; Maybe Char</li><li class="src short"><a href="#v:whatDir">whatDir</a> :: <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; (<a href="Tarefa6_li1g135.html#t:Dir">Dir</a>, <a href="Tarefa6_li1g135.html#t:Dir">Dir</a>)</li><li class="src short"><a href="#v:whatComand">whatComand</a> :: <a href="Tarefa6_li1g135.html#t:Dir">Dir</a> -&gt; Maybe Char</li><li class="src short"><a href="#v:whatPos">whatPos</a> :: <a href="Tarefa6_li1g135.html#t:Dir">Dir</a> -&gt; <a href="Tarefa6_li1g135.html#t:Dir">Dir</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; (<a href="T4Lib.html#t:Posicao">Posicao</a>, <a href="T4Lib.html#t:Posicao">Posicao</a>)</li><li class="src short"><a href="#v:whatIsPlayer">whatIsPlayer</a> :: <a href="T4Lib.html#t:Players">Players</a> -&gt; <a href="Tarefa6_li1g135.html#t:Flag">Flag</a> -&gt; <a href="Tarefa6_li1g135.html#t:Gamer">Gamer</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a></li><li class="src short"><a href="#v:chooseMove">chooseMove</a> :: <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; <a href="Tarefa6_li1g135.html#t:Gamer">Gamer</a> -&gt; <a href="T4Lib.html#t:Time">Time</a> -&gt; Maybe Char</li><li class="src short"><a href="#v:playerPos">playerPos</a> :: <a href="T4Lib.html#t:Players">Players</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="Tarefa6_li1g135.html#t:Flag">Flag</a> -&gt; <a href="Tarefa6_li1g135.html#t:Gamer">Gamer</a> -&gt; Bool</li><li class="src short"><a href="#v:checkBomb">checkBomb</a> :: [<a href="T4Lib.html#t:Bomba">Bomba</a>] -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="Tarefa6_li1g135.html#t:WhereIsBomb">WhereIsBomb</a></li><li class="src short"><a href="#v:mvToUpDown">mvToUpDown</a> :: <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; <a href="Tarefa6_li1g135.html#t:WhereIsBomb">WhereIsBomb</a> -&gt; <a href="Tarefa6_li1g135.html#t:Dir">Dir</a></li><li class="src short"><a href="#v:mvToLeftRight">mvToLeftRight</a> :: <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; <a href="Tarefa6_li1g135.html#t:WhereIsBomb">WhereIsBomb</a> -&gt; <a href="Tarefa6_li1g135.html#t:Dir">Dir</a></li><li class="src short"><a href="#v:mvToUpDownLeftRight">mvToUpDownLeftRight</a> :: <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; <a href="Tarefa6_li1g135.html#t:Dir">Dir</a></li><li class="src short"><a href="#v:goodWay">goodWay</a> :: <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="T4Lib.html#t:NumbFlame">NumbFlame</a> -&gt; <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; <a href="Tarefa6_li1g135.html#t:Dir">Dir</a> -&gt; Bool</li><li class="src short"><a href="#v:whatCoords">whatCoords</a> :: <a href="Tarefa6_li1g135.html#t:Dir">Dir</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a></li><li class="src short"><a href="#v:checkFlmBomb">checkFlmBomb</a> :: [<a href="T4Lib.html#t:Bomba">Bomba</a>] -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="T4Lib.html#t:NumbFlame">NumbFlame</a></li><li class="src short"><a href="#v:escapeBomb">escapeBomb</a> :: <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; <a href="Tarefa6_li1g135.html#t:WhereIsBomb">WhereIsBomb</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; Maybe Char</li><li class="src short"><a href="#v:escapeToPoint">escapeToPoint</a> :: <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="Tarefa6_li1g135.html#t:CoordX">CoordX</a> -&gt; <a href="Tarefa6_li1g135.html#t:CoordY">CoordY</a> -&gt; Maybe Char</li><li class="src short"><a href="#v:checkMyRange">checkMyRange</a> :: <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; [<a href="T4Lib.html#t:Bomba">Bomba</a>] -&gt; Bool</li><li class="src short"><a href="#v:followPlayer">followPlayer</a> :: <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="Tarefa6_li1g135.html#t:CoordX">CoordX</a> -&gt; <a href="Tarefa6_li1g135.html#t:CoordY">CoordY</a> -&gt; <a href="Tarefa6_li1g135.html#t:Gamer">Gamer</a> -&gt; Maybe Char</li><li class="src short"><a href="#v:selectPlayer">selectPlayer</a> :: <a href="T4Lib.html#t:Players">Players</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="Tarefa6_li1g135.html#t:Distance">Distance</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="Tarefa6_li1g135.html#t:Flag">Flag</a> -&gt; <a href="Tarefa6_li1g135.html#t:Gamer">Gamer</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a></li><li class="src short"><a href="#v:selectPowerUp">selectPowerUp</a> :: [<a href="T4Lib.html#t:PowUp">PowUp</a>] -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="Tarefa6_li1g135.html#t:Distance">Distance</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Flag" class="def">Flag</a> = Int</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A <strong>Flage</strong>, &#233; utilizada, para controlar situa&#231;&#245;es.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Gamer" class="def">Gamer</a> = Int</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>O <strong>Gamer</strong> &#233; o n&#250;mero de um jogador, portanto, 0,1,2 e 3.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:CoordX" class="def">CoordX</a> = Int</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A CoordX &#233; a coordenada no eixo do xx, que no caso do <strong>Bomberman</strong>, corresponde &#224; <strong>Coluna</strong>.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:CoordY" class="def">CoordY</a> = Int</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A CoordY &#233; a coordenada no eixo do yy, que no caso do <strong>Bomberman</strong>, corresponde &#224; <strong>Linha</strong>.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Distance" class="def">Distance</a> = Float</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A <strong>Distance</strong>, &#233; a dist&#226;ncia entre dois Pontos.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Dir" class="def">Dir</a></p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>O tipo de dado <strong>Dir</strong>, representa todas as dire&#231;&#245;es poss&#237;veis do <strong>Bot</strong>, sendo que o Null, significa, que n&#227;o faz comando.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Upp" class="def">Upp</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Downn" class="def">Downn</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Leftt" class="def">Leftt</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Rightt" class="def">Rightt</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Null" class="def">Null</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Dir" class="caption collapser" onclick="toggleSection('i:Dir')">Instances</p><div id="section.i:Dir" class="show"><table><tr><td class="src clearfix"><span class="inst-left">Eq <a href="Tarefa6_li1g135.html#t:Dir">Dir</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">Show <a href="Tarefa6_li1g135.html#t:Dir">Dir</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:WhereIsBomb" class="def">WhereIsBomb</a></p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>O tipo de dado <strong>WhereIsBomb</strong>, representa a localiza&#231;&#227;o de uma bomba. </p><h2>Construtores:</h2><ul><li>O construtor LinhaE, significa que a bomba est&#225; na mesma Linha que o jogador e que se encontra &#224; Esquerda.</li><li>O construtor LinhaD, significa que a bomba est&#225; na mesma Linha que o jogador e que se encontra &#224; Direita.</li><li>O construtor ColunaC, significa que a bomba est&#225; na mesma Coluna que o jogador e que se encontra em Cima.</li><li>O construtor LinhaD, significa que a bomba est&#225; na mesma Coluna que o jogador e que se encontra em em Baixo.</li><li>O construtor Bombsport, significa que a bomba est&#225; na mesma posi&#231;&#227;o que o jogador.</li></ul></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:LinhaE" class="def">LinhaE</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:LinhaD" class="def">LinhaD</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ColunaC" class="def">ColunaC</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ColunaB" class="def">ColunaB</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Bombspot" class="def">Bombspot</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Nada" class="def">Nada</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:WhereIsBomb" class="caption collapser" onclick="toggleSection('i:WhereIsBomb')">Instances</p><div id="section.i:WhereIsBomb" class="show"><table><tr><td class="src clearfix"><span class="inst-left">Eq <a href="Tarefa6_li1g135.html#t:WhereIsBomb">WhereIsBomb</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">Show <a href="Tarefa6_li1g135.html#t:WhereIsBomb">WhereIsBomb</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:bot" class="def">bot</a> :: [String] -&gt; Int -&gt; Int -&gt; Maybe Char</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>bot</strong>, recebe o estado de jogo, o n&#250;mero do jogador e o tempo atual do jogo, e retorna o comando que o <strong>bot</strong>, determinou atrav&#233;s da situa&#231;&#227;o de Jogo.</p><h2>Descri&#231;&#227;o do Bot:</h2><ul><li>Inicialmente o <strong>Bot</strong>, procura o jogador mais pr&#243;ximo e tenta mat&#225;-lo com bombas.</li><li>Caso existam power ups, destapados, ele vai tentar captur&#225;-los.</li><li>Quando o efeito espiral estiver a come&#231;ar o <strong>bot</strong>, foca uma posi&#231;&#227;o, para se proteger da mesma.</li><li>Quando estiver na posi&#231;&#227;o ideal, ainda tenta matar jogadores quando o tempo for igual a 3 segundos.</li><li>Este <strong>Bot</strong>, sabe escapar &#224;s suas bombas e de outros jogadores.</li></ul></div></div><div class="top"><p class="src"><a name="v:whatDir" class="def">whatDir</a> :: <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; (<a href="Tarefa6_li1g135.html#t:Dir">Dir</a>, <a href="Tarefa6_li1g135.html#t:Dir">Dir</a>)</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>whatDir</strong>, determina a dire&#231;&#227;o que o <strong>Bot</strong>, deve seguir para atingir um determinado <strong>Ponto</strong>. Retornando assim duas poss&#237;veis Dire&#231;&#245;es.</p><h2>Exemplos:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>whatDir (1,1) (3,3)
</code></strong>(Rightt,Downn)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>whatDir (1,1) (3,1)
</code></strong>(Rightt,Null)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>whatDir (1,1) (1,3)
</code></strong>(Null,Downn)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>whatDir (3,1) (1,2)
</code></strong>(Leftt,Downn)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>whatDir (3,1) (3,1)
</code></strong>(Null,Null)
</pre><h2>Notas:</h2><ul><li>O primeiro elemento do par, cont&#233;m as dire&#231;&#245;es <strong>Rightt</strong>, <strong>Leftt</strong> e <strong>Null</strong>, o segundo tem <strong>Upp</strong>, <strong>Downn</strong>, <strong>Null</strong>.</li><li>Quando s&#243; existe uma dire&#231;&#227;o poss&#237;vel ele retorna-a e no outro elemento do tuplo, ocorre <strong>Null</strong>.</li><li>Quando a posi&#231;&#227;o &#233; a mesma, retorna em ambos os elemnentos do tuplo <strong>Null</strong>.</li></ul></div></div><div class="top"><p class="src"><a name="v:whatComand" class="def">whatComand</a> :: <a href="Tarefa6_li1g135.html#t:Dir">Dir</a> -&gt; Maybe Char</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>whatComand</strong>, recebe uma dire&#231;&#227;o, e retorna qual o comando correspondente.</p><h2>Exemplos:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>whatComand Rightt
</code></strong>Just 'R'
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>whatComand Leftt
</code></strong>Just 'L'
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>whatComand Upp
</code></strong>Just 'U'
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>whatComand Downn
</code></strong>Just 'D'
</pre></div></div><div class="top"><p class="src"><a name="v:whatPos" class="def">whatPos</a> :: <a href="Tarefa6_li1g135.html#t:Dir">Dir</a> -&gt; <a href="Tarefa6_li1g135.html#t:Dir">Dir</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; (<a href="T4Lib.html#t:Posicao">Posicao</a>, <a href="T4Lib.html#t:Posicao">Posicao</a>)</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>whatPos</strong>, e a respetiva auxiliar recebe duas dire&#231;&#245;es e a posi&#231;&#227;o, e determina, quais as coordenadas das dire&#231;&#245;es, partindo da coordenada onde o <strong>Bot</strong> se encontra.</p><h2>Exemplos:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>whatPos Leftt Downn (7,1)
</code></strong>((6,1),(7,2))
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>whatPos Null Null (7,1)
</code></strong>((7,1),(7,1))
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>whatPos Null Downn (7,1)
</code></strong>((7,1),(7,2))
</pre></div></div><div class="top"><p class="src"><a name="v:whatIsPlayer" class="def">whatIsPlayer</a> :: <a href="T4Lib.html#t:Players">Players</a> -&gt; <a href="Tarefa6_li1g135.html#t:Flag">Flag</a> -&gt; <a href="Tarefa6_li1g135.html#t:Gamer">Gamer</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a></p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>whatIsPlayer</strong>, recebe a lista de jogadores, a flag inicializada a zero e o n&#250;mero do jogador, e retorna a posi&#231;&#227;o, desse jogador, caso ele n&#227;o exista, retorna a posi&#231;&#227;o (0,0).</p><h2>Exemplos:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>whatIsPlayer [Vivo (1,1) 0 0,Vivo (9,1) 0 1,Morto,Morto] 0 0
</code></strong>(1,1)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>whatIsPlayer [Vivo (1,1) 0 0,Vivo (9,1) 0 1,Morto,Morto] 0 3
</code></strong>(0,0)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>whatIsPlayer [Vivo (1,1) 0 0,Vivo (9,1) 0 1,Morto,Morto] 0 1
</code></strong>(9,1)
</pre></div></div><div class="top"><p class="src"><a name="v:chooseMove" class="def">chooseMove</a> :: <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; <a href="Tarefa6_li1g135.html#t:Gamer">Gamer</a> -&gt; <a href="T4Lib.html#t:Time">Time</a> -&gt; Maybe Char</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>chooseMove</strong>, determina o movimento que o <strong>Bot</strong>, deve fazer, consoante a situa&#231;&#227;o de jogo</p></div></div><div class="top"><p class="src"><a name="v:playerPos" class="def">playerPos</a> :: <a href="T4Lib.html#t:Players">Players</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="Tarefa6_li1g135.html#t:Flag">Flag</a> -&gt; <a href="Tarefa6_li1g135.html#t:Gamer">Gamer</a> -&gt; Bool</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>playerPos</strong>, recebe a lista de Jogadores, um posi&#231;&#227;o, uma flag inicializada a zero e o n&#250;mero do jogador (<strong>Bot</strong>), e verifica se existe algum jogador na posi&#231;&#227;o indicada, mas n&#227;o verifica o nosso jogador (<strong>Bot</strong>).</p><h2>Exemplos:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>playerPos [Vivo (1,1) 0 0,Vivo (9,1) 0 1,Morto,Morto] (1,1) 0 1
</code></strong>True
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>playerPos [Vivo (1,1) 0 0,Vivo (9,1) 0 1,Morto,Morto] (9,1) 0 1
</code></strong>False
</pre><h2>Notas:</h2><ul><li>Retorna True, quando existe algum jogador na posi&#231;&#227;o indicada, que n&#227;o &#233; o nosso jogador, e False, caso contr&#225;rio.</li></ul></div></div><div class="top"><p class="src"><a name="v:checkBomb" class="def">checkBomb</a> :: [<a href="T4Lib.html#t:Bomba">Bomba</a>] -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="Tarefa6_li1g135.html#t:WhereIsBomb">WhereIsBomb</a></p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>checkBomb</strong>, recebe a lista das Bombas, uma posi&#231;&#227;o e verifica se na posi&#231;&#227;o indicada, existe alguma bomba capaz de atingir com o flame.</p><h2>Exemplos:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>checkBomb [((1,2),1,1,10)] (1,1)
</code></strong>ColunaB
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>checkBomb [((1,1),1,1,10)] (1,1)
</code></strong>Bombspot
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>[((1,1),1,1,10)] (2,1)
</code></strong>LinhaE
</pre><h2>Notas:</h2><ul><li>Esta fun&#231;&#227;o retorna um tipo novo, que &#233; o <strong>WhereIsBomb</strong>, o <strong>ColunaB</strong>, significa que a bomba esta na mesma Coluna que a posi&#231;&#227;o indicada e que se encontra abaixo da posi&#231;&#227;o.</li><li>O <strong>Bombspot</strong>, significa que a bomba, econtra-se na mesma posi&#231;&#227;o que a indicada.</li><li>Pode-se consultar toda a informa&#231;&#227;o sobre o tipo <strong>WhereIsBomb</strong> nesta Documenta&#231;&#227;o.</li></ul></div></div><div class="top"><p class="src"><a name="v:mvToUpDown" class="def">mvToUpDown</a> :: <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; <a href="Tarefa6_li1g135.html#t:WhereIsBomb">WhereIsBomb</a> -&gt; <a href="Tarefa6_li1g135.html#t:Dir">Dir</a></p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>mvToUpDown</strong>, recebe a posi&#231;&#227;o do <strong>Bot</strong>, a informa&#231;&#227;o do jogo, e a localiza&#231;&#227;o da bomba, e determina qual o melhor comando para a fuga, caso os comandos principais <strong>Upp</strong>, <strong>Downn</strong>, n&#227;o sejam v&#225;lidos, a fun&#231;&#227;o determina a melhor alternativa.</p></div></div><div class="top"><p class="src"><a name="v:mvToLeftRight" class="def">mvToLeftRight</a> :: <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; <a href="Tarefa6_li1g135.html#t:WhereIsBomb">WhereIsBomb</a> -&gt; <a href="Tarefa6_li1g135.html#t:Dir">Dir</a></p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>mvToLeftRight</strong>, recebe a posi&#231;&#227;o do <strong>Bot</strong>, a informa&#231;&#227;o do jogo, e a localiza&#231;&#227;o da bomba, e determina qual o melhor comando para a fuga, caso os comandos principais <strong>Leftt</strong>, <strong>Rightt</strong>, n&#227;o sejam v&#225;lidos, a fun&#231;&#227;o determina a melhor alternativa.</p></div></div><div class="top"><p class="src"><a name="v:mvToUpDownLeftRight" class="def">mvToUpDownLeftRight</a> :: <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; <a href="Tarefa6_li1g135.html#t:Dir">Dir</a></p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>mvToUpDownLeftRight</strong>, recebe a posi&#231;&#227;o do jogador e a informa&#231;&#227;o do jogo, e determina qual das quatro dire&#231;&#245;es poss&#237;veis &#233; melhor, visto que este caso &#233; o mais complexo, necessita-se de verificar todas as dire&#231;&#245;es e escolher a melhor.</p></div></div><div class="top"><p class="src"><a name="v:goodWay" class="def">goodWay</a> :: <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="T4Lib.html#t:NumbFlame">NumbFlame</a> -&gt; <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; <a href="Tarefa6_li1g135.html#t:Dir">Dir</a> -&gt; Bool</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>goodway</strong>, recebe a posi&#231;&#227;o, o n&#250;mero de power ups flames, a informa&#231;&#227;o do jogo e por fim a dire&#231;&#227;o, esta fun&#231;&#227;o verfica se esta dire&#231;&#227;o &#233; a melhor para a fuga da bomba, pois necessita-se de verificar a exist&#234;ncia de obst&#225;culos ou de bombas. </p></div></div><div class="top"><p class="src"><a name="v:whatCoords" class="def">whatCoords</a> :: <a href="Tarefa6_li1g135.html#t:Dir">Dir</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a></p><div class="doc"><h1>Descri&#231;&#227;o:</h1><p>A fun&#231;&#227;o <strong>whatCoords</strong>, recebe a dire&#231;&#227;o e uma posi&#231;&#227;o e determina, qual a posi&#231;&#227;o originada por essa dire&#231;&#227;o.</p></div></div><div class="top"><p class="src"><a name="v:checkFlmBomb" class="def">checkFlmBomb</a> :: [<a href="T4Lib.html#t:Bomba">Bomba</a>] -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="T4Lib.html#t:NumbFlame">NumbFlame</a></p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>checkFlmBomb</strong>, recebe a lista de bombas e uma posi&#231;&#227;o, e retorna o flame da bomba que se encontra nessa posi&#231;&#227;o.</p><h2>Exemplos:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>checkFlmBomb [((1,2),1,4,10)] (1,2)
</code></strong>4
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>checkFlmBomb [((1,2),1,4,10),((3,4),0,2,10)] (3,4)
</code></strong>2
</pre></div></div><div class="top"><p class="src"><a name="v:escapeBomb" class="def">escapeBomb</a> :: <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; <a href="Tarefa6_li1g135.html#t:WhereIsBomb">WhereIsBomb</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; Maybe Char</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>escapeBomb</strong>, determina atrav&#233;s dos construtores do tipo <strong>WhereIsBomb</strong>, qual o melhor comando para a fuga do <strong>Bot</strong>.</p><h2>Exemplos:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>escapeBomb (filterInfGame ((mapa 11 0)++[&quot;* 1 1 1 1 10&quot;,&quot;0 1 1&quot;,&quot;1 9 1 !&quot;]))  Bombspot (1,1)
</code></strong>Just 'R'
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>escapeBomb (filterInfGame ((mapa 11 0)++[&quot;* 1 1 1 2 10&quot;,&quot;0 1 1&quot;,&quot;1 9 1 !&quot;]))  ColunaC (1,2)
</code></strong>Just 'D'
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>escapeBomb (filterInfGame ((mapa 11 0)++[&quot;* 1 1 1 1 10&quot;,&quot;0 1 1&quot;,&quot;1 9 1 !&quot;]))  LinhaE (1,2)
</code></strong>Just 'D'
</pre><h2>Notas:</h2><ul><li>A fun&#231;&#227;o <strong>filterInfGame</strong> est&#225; definida na Biblioteca <strong>T4Lib</strong>, converte a informa&#231;&#227;o do mapa de <strong>[String]</strong> para o tipo InfGame.</li><li>A fun&#231;&#227;o <strong>mapa</strong> est&#225; definida na Biblioteca <strong>T1Lib</strong>, e gera mapas do jogo <strong>Bomberman</strong>.</li></ul></div></div><div class="top"><p class="src"><a name="v:escapeToPoint" class="def">escapeToPoint</a> :: <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="Tarefa6_li1g135.html#t:CoordX">CoordX</a> -&gt; <a href="Tarefa6_li1g135.html#t:CoordY">CoordY</a> -&gt; Maybe Char</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>escapeToPoint</strong>, recebe a informa&#231;&#227;o do jogador, a posi&#231;&#227;o do mesmo, e as coordenadas objectivo. A fun&#231;&#227;o determina qual o comando que o <strong>Bot</strong>, deve efetuar, para atingir a posi&#231;&#227;o indicada.</p><h2>Exemplos:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>escapeToPoint (filterInfGame ((mapa 11 0)++[&quot;* 1 1 1 2 10&quot;,&quot;0 1 1&quot;,&quot;1 9 1 !&quot;])) (1,1) 3 3
</code></strong>Just 'R'
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>escapeToPoint (filterInfGame ((mapa 11 0)++[&quot;* 1 1 1 2 10&quot;,&quot;0 1 1&quot;,&quot;1 9 1 !&quot;])) (1,1) 1 2
</code></strong>Just 'D'
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>escapeToPoint (filterInfGame ((mapa 11 0)++[&quot;* 1 1 1 2 10&quot;,&quot;0 1 1&quot;,&quot;1 9 1 !&quot;])) (9,1) 1 2
</code></strong>Just 'L'
</pre><h2>Notas:</h2><ul><li>A fun&#231;&#227;o <strong>filterInfGame</strong> est&#225; definida na Biblioteca <strong>T4Lib</strong>, converte a informa&#231;&#227;o do mapa de [String] para o tipo InfGame.</li><li>A fun&#231;&#227;o <strong>mapa</strong> est&#225; definida na Biblioteca <strong>T1Lib</strong>, e gera mapas do jogo Bomberman.</li></ul></div></div><div class="top"><p class="src"><a name="v:checkMyRange" class="def">checkMyRange</a> :: <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; [<a href="T4Lib.html#t:Bomba">Bomba</a>] -&gt; Bool</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>checkMyRange</strong>, verifica se existe alguma bomba no range do <strong>Bot</strong>, que o possa atingir.</p><pre>checkMyRange :: Posicao -&gt; [Bomba] -&gt; Bool
checkMyRange (c,l) listaBmb = dir1 == Nada &amp;&amp; dir2 == Nada &amp;&amp; dir3 == Nada &amp;&amp; dir4 == Nada
                                where dir1 = checkBomb listaBmb (c,l-1)
                                      dir2 = checkBomb listaBmb (c,l+1)
                                      dir3 = checkBomb listaBmb (c-1,l)
                                      dir4 = checkBomb listaBmb (c+1,l)
</pre><h2>Notas1:</h2><ul><li>Como podemos ver no c&#243;digo, ele averigua todas as dire&#231;&#245;es do range do <strong>Bot</strong>, para verficar a exist&#234;ncia de Bombas.</li></ul><h2>Exemplos:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>checkMyRange (1,1) [((3,1),1,1,10)]
</code></strong>False
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>checkMyRange (1,1) [((4,1),1,1,10)]
</code></strong>True
</pre><h2>Notas2:</h2><ul><li>Como os movimentos poss&#237;veis do <strong>Bot</strong>, s&#227;o cima, baixo, esquerda e direita, a fun&#231;&#227;o verifica nessas posi&#231;&#245;es, a exist&#234;ncia de Bombas.</li></ul></div></div><div class="top"><p class="src"><a name="v:followPlayer" class="def">followPlayer</a> :: <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="Tarefa6_li1g135.html#t:CoordX">CoordX</a> -&gt; <a href="Tarefa6_li1g135.html#t:CoordY">CoordY</a> -&gt; <a href="Tarefa6_li1g135.html#t:Gamer">Gamer</a> -&gt; Maybe Char</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>followPlayer</strong>, recebe a informa&#231;&#227;o do jogo, a posi&#231;&#227;o do <strong>Bot</strong>, as coordenadas objetivo e o jogador, e determina qual o comando para perseguir e tentar matar um jogador.</p></div></div><div class="top"><p class="src"><a name="v:selectPlayer" class="def">selectPlayer</a> :: <a href="T4Lib.html#t:Players">Players</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="Tarefa6_li1g135.html#t:Distance">Distance</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="Tarefa6_li1g135.html#t:Flag">Flag</a> -&gt; <a href="Tarefa6_li1g135.html#t:Gamer">Gamer</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a></p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>selectPlayer</strong>, recebe a lista de jogadores, a posi&#231;&#227;o do <strong>Bot</strong>, o valor da dist&#226;ncia entre pontos, que &#233; inicializado a 3*tamanho, uma posi&#231;&#227;o inicializada a (0,0) (<em>o objetivo desta &#233; guardar a posi&#231;&#227;o do jogador mais pr&#243;ximo</em>), uma flag de controlo de jogadores, e por fim o n&#250;mero do jogador. Esta fun&#231;&#227;o seleciona o jogador mais pr&#243;ximo do <strong>Bot</strong>.</p><h2>Exemplos:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>selectPlayer [Vivo (1,1) 0 0,Vivo (3,3) 0 1,Vivo (7,7) 0 0,Vivo (4,3) 0 0] (1,1) 27 (0,0) 0 0
</code></strong>(3,3)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>selectPlayer [Vivo (5,5) 0 0,Vivo (3,3) 0 1,Vivo (7,7) 0 0,Vivo (4,3) 0 0] (5,5) 27 (0,0) 0 0
</code></strong>(4,3)
</pre><p>Notas:</p><ul><li>O m&#233;todo utilizado nesta fun&#231;&#227;o, foi a f&#243;rmula matem&#225;tica da dist&#226;ncia entre dois pontos.</li><li>O tamanho do mapa utilizado nos exemplos &#233; 9.</li></ul></div></div><div class="top"><p class="src"><a name="v:selectPowerUp" class="def">selectPowerUp</a> :: [<a href="T4Lib.html#t:PowUp">PowUp</a>] -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="Tarefa6_li1g135.html#t:Distance">Distance</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a> -&gt; <a href="T4Lib.html#t:Posicao">Posicao</a></p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>selectPowerUp</strong>, recebe a lista de power ups, a posi&#231;&#227;o atual do <strong>Bot</strong>, a dist&#226;ncia inicializada a zero, uma posi&#231;&#227;o, para guardar a posi&#231;&#227;o mais pr&#243;xima, caso n&#227;o exista power ups, retorna (0,0), pois esta foi inicializada. Esta fun&#231;&#227;o retorna a posi&#231;&#227;o do power up mais pr&#243;ximo.</p><h2>Exemplos:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>selectPowerUp [] (5,5) (27) (0,0)
</code></strong>(0,0)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>selectPowerUp [Bomb (3,1)] (5,5) (27) (0,0)
</code></strong>(3,1)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>selectPowerUp [Bomb (3,1), Flame (3,2)] (5,5) (27) (0,0)
</code></strong>(3,2)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>selectPowerUp [Bomb (3,1), Flame (3,2), Flame (5,6)] (5,5) (27) (0,0)
</code></strong>(5,6)
</pre><h2>Notas:</h2><ul><li>Caso n&#227;o existam power ups, a fun&#231;&#227;o retorna a posi&#231;&#227;o (0,0).</li></ul></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>