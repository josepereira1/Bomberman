<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Main</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Main.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>Jos&#233; Pereira &lt;a82880@uminho.pt&gt;;
              Andr&#233; Almeida &lt;&gt;</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Main</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Este m&#243;dulo cont&#233;m as <strong>fun&#231;&#245;es</strong>, da <strong>Tarefa 5</strong>, que consiste na cria&#231;&#227;o de uma <strong>Interface Gr&#225;fica</strong> do jogo <strong>Bomberman</strong> e a respetiva jogabilidade.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:ActualTime">ActualTime</a> = Int</li><li class="src short"><span class="keyword">type</span> <a href="#t:LastTimeReageT">LastTimeReageT</a> = Float</li><li class="src short"><span class="keyword">type</span> <a href="#t:Tamanho">Tamanho</a> = Int</li><li class="src short"><span class="keyword">type</span> <a href="#t:Semente">Semente</a> = Int</li><li class="src short"><span class="keyword">type</span> <a href="#t:Linha">Linha</a> = Int</li><li class="src short"><span class="keyword">type</span> <a href="#t:Coluna">Coluna</a> = Int</li><li class="src short"><span class="keyword">type</span> <a href="#t:WindowAltura">WindowAltura</a> = Float</li><li class="src short"><span class="keyword">type</span> <a href="#t:WindowLargura">WindowLargura</a> = Float</li><li class="src short"><span class="keyword">type</span> <a href="#t:Gamer">Gamer</a> = Int</li><li class="src short"><span class="keyword">type</span> <a href="#t:Estado">Estado</a> = (<a href="T4Lib.html#t:InfGame">InfGame</a>, <a href="Main.html#t:Tamanho">Tamanho</a>, <a href="Main.html#t:Semente">Semente</a>, <a href="Main.html#t:LastTimeReageT">LastTimeReageT</a>, <a href="Main.html#t:Imagens">Imagens</a>, <a href="Main.html#t:ActualTime">ActualTime</a>, <a href="Main.html#t:WindowLargura">WindowLargura</a>, <a href="Main.html#t:WindowAltura">WindowAltura</a>, <a href="Main.html#t:Gamer">Gamer</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Imagens">Imagens</a> = <a href="#v:Imagens">Imagens</a> {<ul class="subs"><li><a href="#v:pedra">pedra</a> :: Picture</li><li><a href="#v:bomba">bomba</a> :: Picture</li><li><a href="#v:caixa">caixa</a> :: Picture</li><li><a href="#v:jogador0">jogador0</a> :: Picture</li><li><a href="#v:jogador1">jogador1</a> :: Picture</li><li><a href="#v:jogador2">jogador2</a> :: Picture</li><li><a href="#v:jogador3">jogador3</a> :: Picture</li><li><a href="#v:powUpBomb">powUpBomb</a> :: Picture</li><li><a href="#v:powUpFlame">powUpFlame</a> :: Picture</li><li><a href="#v:fundo">fundo</a> :: Picture</li><li><a href="#v:explosion">explosion</a> :: Picture</li></ul>}</li><li class="src short"><a href="#v:estadoInicial">estadoInicial</a> :: IO <a href="Main.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:desenhaEstado">desenhaEstado</a> :: <a href="Main.html#t:Estado">Estado</a> -&gt; Picture</li><li class="src short"><a href="#v:determinaPixels1">determinaPixels1</a> :: Int -&gt; Float -&gt; [Float]</li><li class="src short"><a href="#v:determinaPixels2">determinaPixels2</a> :: Int -&gt; Float -&gt; [Float]</li><li class="src short"><a href="#v:desenhaPowerUps">desenhaPowerUps</a> :: <a href="Main.html#t:Imagens">Imagens</a> -&gt; [<a href="T4Lib.html#t:PowUp">PowUp</a>] -&gt; <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; <a href="T4Lib.html#t:Size">Size</a> -&gt; Float -&gt; Float -&gt; [Picture]</li><li class="src short"><a href="#v:desenhaBombas">desenhaBombas</a> :: <a href="Main.html#t:Imagens">Imagens</a> -&gt; [<a href="T4Lib.html#t:Bomba">Bomba</a>] -&gt; <a href="T4Lib.html#t:Size">Size</a> -&gt; Float -&gt; Float -&gt; <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; ([Picture], [Picture])</li><li class="src short"><a href="#v:desenhaExplosionBomb">desenhaExplosionBomb</a> :: <a href="Main.html#t:Imagens">Imagens</a> -&gt; [<a href="T4Lib.html#t:Posicao">Posicao</a>] -&gt; Int -&gt; Float -&gt; Float -&gt; [Picture]</li><li class="src short"><a href="#v:desenhaJogadores">desenhaJogadores</a> :: <a href="Main.html#t:Imagens">Imagens</a> -&gt; <a href="T4Lib.html#t:Players">Players</a> -&gt; <a href="T4Lib.html#t:Size">Size</a> -&gt; Int -&gt; Float -&gt; Float -&gt; [Picture]</li><li class="src short"><a href="#v:desenhaTabuleiro">desenhaTabuleiro</a> :: <a href="Main.html#t:Imagens">Imagens</a> -&gt; [<a href="T4Lib.html#t:Bloco">Bloco</a>] -&gt; <a href="Main.html#t:Coluna">Coluna</a> -&gt; <a href="Main.html#t:Linha">Linha</a> -&gt; <a href="T4Lib.html#t:Size">Size</a> -&gt; Float -&gt; Float -&gt; [Picture]</li><li class="src short"><a href="#v:reageEvento">reageEvento</a> :: Event -&gt; <a href="Main.html#t:Estado">Estado</a> -&gt; <a href="Main.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:reageTempo">reageTempo</a> :: Float -&gt; <a href="Main.html#t:Estado">Estado</a> -&gt; <a href="Main.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:fr">fr</a> :: Int</li><li class="src short"><a href="#v:dm">dm</a> :: Display</li><li class="src short"><a href="#v:main">main</a> :: IO ()</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:ActualTime" class="def">ActualTime</a> = Int</p><div class="doc"><p>O type <strong>ActualTime</strong>, corresponde ao tempo atual do jogo.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:LastTimeReageT" class="def">LastTimeReageT</a> = Float</p><div class="doc"><p>O type <strong>LastTimeReageT</strong>, corresponde ao somat&#243;rio de (1/FrameRate).</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Tamanho" class="def">Tamanho</a> = Int</p><div class="doc"><p>O type <strong>Tamanho</strong>, corresponde ao tamanho do mapa.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Semente" class="def">Semente</a> = Int</p><div class="doc"><p>O type Semente, corresponde &#224; semente do mapa.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Linha" class="def">Linha</a> = Int</p><div class="doc"><p>O type <strong>Linha</strong>, corresponde &#224; <strong>Linha</strong> do mapa.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Coluna" class="def">Coluna</a> = Int</p><div class="doc"><p>O type Coluna, corresponde &#224; <strong>Coluna</strong> do mapa.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:WindowAltura" class="def">WindowAltura</a> = Float</p><div class="doc"><p>O type <strong>WindowAltura</strong>, corresponde &#224; altura do mapa em p&#237;xeis.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:WindowLargura" class="def">WindowLargura</a> = Float</p><div class="doc"><p>O type <strong>WindowLargura</strong>, corresponde &#224; Largura do mapa em p&#237;xeis.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Gamer" class="def">Gamer</a> = Int</p><div class="doc"><p>O type <strong>Gamer</strong>, corresponde ao n&#250;mero do jogador.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Estado" class="def">Estado</a> = (<a href="T4Lib.html#t:InfGame">InfGame</a>, <a href="Main.html#t:Tamanho">Tamanho</a>, <a href="Main.html#t:Semente">Semente</a>, <a href="Main.html#t:LastTimeReageT">LastTimeReageT</a>, <a href="Main.html#t:Imagens">Imagens</a>, <a href="Main.html#t:ActualTime">ActualTime</a>, <a href="Main.html#t:WindowLargura">WindowLargura</a>, <a href="Main.html#t:WindowAltura">WindowAltura</a>, <a href="Main.html#t:Gamer">Gamer</a>)</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>O <strong>Estado</strong>, cont&#233;m a informa&#231;&#227;o necess&#225;ria para executar todas as fun&#231;&#245;es.</p><ul><li>Informa&#231;&#227;o do Jogo (Tabuleiro,Power Ups,Bombas,Jogadores);</li><li>Tamanho do Mapa;</li><li>Semente do Mapa;</li><li>Somat&#243;rio de (1/Frame Rate);</li><li>Imagens utilizadas na interface gr&#225;fica;</li><li>Tempo atual do Jogo;</li><li>Largura em Pixeis do Mapa;</li><li>Altura em Pixeis do Mapa;</li><li>N&#250;mero do Jogador;</li></ul></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Imagens" class="def">Imagens</a></p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>O tipo Imagens cont&#233;m todas as imagens usadas na interface gr&#225;fica.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Imagens" class="def">Imagens</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:pedra" class="def">pedra</a> :: Picture</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:bomba" class="def">bomba</a> :: Picture</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:caixa" class="def">caixa</a> :: Picture</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:jogador0" class="def">jogador0</a> :: Picture</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:jogador1" class="def">jogador1</a> :: Picture</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:jogador2" class="def">jogador2</a> :: Picture</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:jogador3" class="def">jogador3</a> :: Picture</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:powUpBomb" class="def">powUpBomb</a> :: Picture</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:powUpFlame" class="def">powUpFlame</a> :: Picture</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:fundo" class="def">fundo</a> :: Picture</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:explosion" class="def">explosion</a> :: Picture</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><a name="v:estadoInicial" class="def">estadoInicial</a> :: IO <a href="Main.html#t:Estado">Estado</a></p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>estadoInicial</strong>, retorna o estado &#237;nicial do jogo, com a informa&#231;&#227;o do mapa, tamanho, semente, somat&#243;rio do tempo do frame rate, as imagens, tempo atual de jogo , tamanho da janela (size*50), altura da janela(size*50), n&#250;mero do jogador.</p></div></div><div class="top"><p class="src"><a name="v:desenhaEstado" class="def">desenhaEstado</a> :: <a href="Main.html#t:Estado">Estado</a> -&gt; Picture</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>desenhaEstado</strong>, recebe o estado de jogo, e cria a interface gr&#225;fica atrav&#233;s desse estado de jogo. </p></div></div><div class="top"><p class="src"><a name="v:determinaPixels1" class="def">determinaPixels1</a> :: Int -&gt; Float -&gt; [Float]</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>determinaPixels1</strong>, determina a lista dos p&#237;xeis por coluna para um dado mapa, no eixo dos xx, em que cada elemento da lista corresponde &#224; coodenada x para colocar uma imagem, portanto o elemento na posi&#231;&#227;o zero corresponde aos p&#237;xeis no mapa para a coluna zero.</p><h2>Exemplos:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>determinaPixels1 9 (-200)
</code></strong>[-200.0,-150.0,-100.0,-50.0,0.0,50.0,100.0,150.0,200.0]
</pre><h2>Notas:</h2><ul><li>Como podemos ver no exemplo, para o mapa de tamanho 9, temos uma janela com 450 Pixeis, pois cada imagem tem 50x50 Pixeis, logo o tamanho do mapa na janela &#233; dado por (50*9).</li><li>Como o tamanho &#233; 450 Pixeis, ent&#227;o a primeira imagem vai come&#231;ar nos -200, e a partir desse valor a nossa fun&#231;&#227;o determina os restantes, em que cada posi&#231;&#227;o da lista corresponde a uma coluna no mapa bomberman. </li></ul></div></div><div class="top"><p class="src"><a name="v:determinaPixels2" class="def">determinaPixels2</a> :: Int -&gt; Float -&gt; [Float]</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>determinaPixels1</strong>, determina a lista dos p&#237;xeis por coluna para um dado mapa, no eixo dos yy, em que cada elemento da lista corresponde &#224; coodenada y para colocar uma imagem, portanto o elemento na posi&#231;&#227;o zero corresponde aos p&#237;xeis no mapa para a linha zero.</p><h2>Exemplos:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>determinaPixels2 9 (200)
</code></strong>[200.0,150.0,100.0,50.0,0.0,-50.0,-100.0,-150.0,-200.0]
</pre><h2>Notas:</h2><ul><li>Como podemos ver no exemplo, para o mapa de tamanho 9, temos uma janela com 450 Pixeis, pois cada imagem tem 50x50 Pixeis, logo o tamanho do mapa na janela &#233; dado por (50*9).</li><li>Como o tamanho &#233; 450 Pixeis, ent&#227;o a primeira imagem vai come&#231;ar nos 200, e a partir desse valor a nossa fun&#231;&#227;o determina os restantes, em que cada posi&#231;&#227;o da lista corresponde a uma linha no mapa bomberman. </li></ul></div></div><div class="top"><p class="src"><a name="v:desenhaPowerUps" class="def">desenhaPowerUps</a> :: <a href="Main.html#t:Imagens">Imagens</a> -&gt; [<a href="T4Lib.html#t:PowUp">PowUp</a>] -&gt; <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; <a href="T4Lib.html#t:Size">Size</a> -&gt; Float -&gt; Float -&gt; [Picture]</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>desenhaPowerUps</strong>, coloca as imagens dos Power Ups destapados no mapa, atrav&#233;s da sua linha e coluna.</p></div></div><div class="top"><p class="src"><a name="v:desenhaBombas" class="def">desenhaBombas</a> :: <a href="Main.html#t:Imagens">Imagens</a> -&gt; [<a href="T4Lib.html#t:Bomba">Bomba</a>] -&gt; <a href="T4Lib.html#t:Size">Size</a> -&gt; Float -&gt; Float -&gt; <a href="T4Lib.html#t:InfGame">InfGame</a> -&gt; ([Picture], [Picture])</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>desenhaBombas</strong>, coloca as imagens das bombas na janela, atrav&#233;s das posi&#231;&#245;es das mesmas. </p></div></div><div class="top"><p class="src"><a name="v:desenhaExplosionBomb" class="def">desenhaExplosionBomb</a> :: <a href="Main.html#t:Imagens">Imagens</a> -&gt; [<a href="T4Lib.html#t:Posicao">Posicao</a>] -&gt; Int -&gt; Float -&gt; Float -&gt; [Picture]</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>desenhaExplosionBomb</strong>, coloca imagens no flame causado pela explos&#227;o das bombas.</p></div></div><div class="top"><p class="src"><a name="v:desenhaJogadores" class="def">desenhaJogadores</a> :: <a href="Main.html#t:Imagens">Imagens</a> -&gt; <a href="T4Lib.html#t:Players">Players</a> -&gt; <a href="T4Lib.html#t:Size">Size</a> -&gt; Int -&gt; Float -&gt; Float -&gt; [Picture]</p><div class="doc"><p>A fun&#231;&#227;o <strong>desenhaJogadores</strong>, coloca imagens dos jogadores atrav&#233;s das suas posi&#231;&#245;es no mapa.</p></div></div><div class="top"><p class="src"><a name="v:desenhaTabuleiro" class="def">desenhaTabuleiro</a> :: <a href="Main.html#t:Imagens">Imagens</a> -&gt; [<a href="T4Lib.html#t:Bloco">Bloco</a>] -&gt; <a href="Main.html#t:Coluna">Coluna</a> -&gt; <a href="Main.html#t:Linha">Linha</a> -&gt; <a href="T4Lib.html#t:Size">Size</a> -&gt; Float -&gt; Float -&gt; [Picture]</p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>desenhaTabuleiro</strong>, coloca as imagens das Pedras, Tijolos, e v&#233;lulas Vazias na Janela, atrav&#233;s das coordenadas das mesmas.</p></div></div><div class="top"><p class="src"><a name="v:reageEvento" class="def">reageEvento</a> :: Event -&gt; <a href="Main.html#t:Estado">Estado</a> -&gt; <a href="Main.html#t:Estado">Estado</a></p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>reageEvento</strong>, modifica o estado de jogo, atrav&#233;s de um evento, ou seja, um comando introduzido por um utilizador.</p></div></div><div class="top"><p class="src"><a name="v:reageTempo" class="def">reageTempo</a> :: Float -&gt; <a href="Main.html#t:Estado">Estado</a> -&gt; <a href="Main.html#t:Estado">Estado</a></p><div class="doc"><h2>Descri&#231;&#227;o:</h2><p>A fun&#231;&#227;o <strong>reageTempo</strong>, modifica o estado do jogo com a passagem do tempo.</p><h2>Notas:</h2><ul><li>Aqui usamos o somat&#243;rio do frame rate, quando este &#233; superior a 1, assumimos que passou 1 segundo, portanto podemos verificar as altera&#231;&#245;es no estado de jogo, com a passagem de 1 segundo, atrav&#233;s da fun&#231;&#227;o <strong>avanca</strong>, definida na T4Lib.</li></ul></div></div><div class="top"><p class="src"><a name="v:fr" class="def">fr</a> :: Int</p><div class="doc"><p>Frame rate</p></div></div><div class="top"><p class="src"><a name="v:dm" class="def">dm</a> :: Display</p><div class="doc"><p>Display mode</p></div></div><div class="top"><p class="src"><a name="v:main" class="def">main</a> :: IO ()</p><div class="doc"><p>Fun&#231;&#227;o principal que invoca o jogo.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>